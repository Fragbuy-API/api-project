======== Testing: test_art_orders.py ========
[94m================= TESTING ART ORDERS API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:53.676152"
}[0m

[94m======== Testing: ART Orders API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "ART Orders API endpoints are available",
  "timestamp": "2025-05-07T11:52:53.682004"
}[0m

[94m======== Testing: Add Operation ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 50 units of SKU 4711M-50B to location 3SHOWROOM",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 50,
  "timestamp": "2025-05-07T11:52:53.694311",
  "to_location": "3SHOWROOM",
  "reason": "Restocking",
  "operation_id": 57
}[0m

[94m======== Testing: Remove Operation ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully removed 20 units of SKU 4711M-50B from location 1HAI",
  "operation_type": "Remove",
  "sku": "4711M-50B",
  "quantity": 20,
  "timestamp": "2025-05-07T11:52:53.703320",
  "from_location": "1HAI",
  "reason": "Damaged goods",
  "operation_id": 58
}[0m

[94m======== Testing: Transfer Operation ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully transferred 30 units of SKU 4711M-50B from location 1HAI to location 3SHOWROOM",
  "operation_type": "Transfer",
  "sku": "4711M-50B",
  "quantity": 30,
  "timestamp": "2025-05-07T11:52:53.712304",
  "from_location": "1HAI",
  "to_location": "3SHOWROOM",
  "reason": "Reorganizing inventory",
  "operation_id": 59
}[0m

[94m======== Testing: Using qty instead of quantity ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 25 units of SKU 4711M-50B to location 3SHOWROOM",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 25,
  "timestamp": "2025-05-07T11:52:53.721689",
  "to_location": "3SHOWROOM",
  "reason": "Testing qty field",
  "operation_id": 60
}[0m

[94m======== Testing: Empty from_location String ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "from_location"
      ],
      "msg": "Value error, Location cannot be empty",
      "input": "",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Whitespace to_location String ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "to_location"
      ],
      "msg": "Value error, Location cannot be empty",
      "input": "   ",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Various Valid Location Formats ========[0m

Testing location format: 3SHOWROOM
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location 3SHOWROOM",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.741060",
  "to_location": "3SHOWROOM",
  "reason": "Testing location format: 3SHOWROOM",
  "operation_id": 61
}[0m

Testing location format: RACK-A1-01
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location RACK-A1-01",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.750675",
  "to_location": "RACK-A1-01",
  "reason": "Testing location format: RACK-A1-01",
  "operation_id": 62
}[0m

Testing location format: DOCK
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location DOCK",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.759990",
  "to_location": "DOCK",
  "reason": "Testing location format: DOCK",
  "operation_id": 63
}[0m

Testing location format: WAREHOUSE-123
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location WAREHOUSE-123",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.769664",
  "to_location": "WAREHOUSE-123",
  "reason": "Testing location format: WAREHOUSE-123",
  "operation_id": 64
}[0m

Testing location format: Floor_1_Zone_B
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location FLOOR_1_ZONE_B",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.778155",
  "to_location": "FLOOR_1_ZONE_B",
  "reason": "Testing location format: Floor_1_Zone_B",
  "operation_id": 65
}[0m

Testing location format: 12345
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully added 10 units of SKU 4711M-50B to location 12345",
  "operation_type": "Add",
  "sku": "4711M-50B",
  "quantity": 10,
  "timestamp": "2025-05-07T11:52:53.785803",
  "to_location": "12345",
  "reason": "Testing location format: 12345",
  "operation_id": 66
}[0m
[92mâœ“ PASS: All location formats test[0m

[94m======== Testing: Insufficient Stock (Simulated) ========[0m
[92mâœ“ PASS: Request failed as expected with status 400[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Insufficient stock of SKU 4711M-50B at location 1HAI",
    "error_code": "INSUFFICIENT_STOCK",
    "timestamp": "2025-05-07T11:52:53.791449"
  }
}[0m

[94m======== Testing: Invalid SKU ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "SKU NONEXISTENT-SKU does not exist in the products table",
    "error_code": "INVALID_SKU",
    "timestamp": "2025-05-07T11:52:53.797460"
  }
}[0m

[94m======== Testing: Missing from_location in Remove Operation ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body"
      ],
      "msg": "Value error, from_location is required for Remove operations",
      "input": {
        "type": "Remove",
        "sku": "4711M-50B",
        "quantity": 20
      },
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Missing to_location in Add Operation ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body"
      ],
      "msg": "Value error, to_location is required for Add operations",
      "input": {
        "type": "Add",
        "sku": "4711M-50B",
        "quantity": 50
      },
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Same Locations for Transfer ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body"
      ],
      "msg": "Value error, from_location and to_location cannot be the same for Transfer operations",
      "input": {
        "type": "Transfer",
        "sku": "4711M-50B",
        "quantity": 30,
        "from_location": "3SHOWROOM",
        "to_location": "3SHOWROOM",
        "reason": "This should fail"
      },
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 12/12
[92mâœ“ All tests passed! ART Orders API is working.[0m
======== Testing: test_check_sku_api.py ========
[94m================= TESTING CHECK SKU AGAINST PO API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:54.063020"
}[0m

[94m======== Testing: Purchase Orders API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Purchase Order API endpoints are available",
  "timestamp": "2025-05-07T11:52:54.067729"
}[0m

[94m======== Testing: Check SKU In PO (Should return True) ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "result": true,
  "po_number": "PO-TEST-001",
  "barcode": "1234567890123",
  "sku": "4711M-50B",
  "timestamp": "2025-05-07T11:52:54.090985"
}[0m
[92mâœ“ PASS: API returned TRUE as expected[0m

[94m======== Testing: Check SKU Not In PO (Should return False) ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "result": false,
  "po_number": "PO-TEST-003",
  "barcode": "1234567890123",
  "sku": "4711M-50B",
  "timestamp": "2025-05-07T11:52:54.110911"
}[0m
[92mâœ“ PASS: API returned FALSE as expected[0m

[94m======== Testing: Check SKU with Non-existent Barcode ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Barcode 9999999999999 not found in the system",
    "error_code": "BARCODE_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:54.128057"
  }
}[0m

[94m======== Testing: Missing PO Number ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "po_number"
      ],
      "msg": "Field required",
      "input": {
        "barcode": "1234567890123"
      }
    }
  ]
}[0m

[94m======== Testing: Missing Barcode ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "barcode"
      ],
      "msg": "Field required",
      "input": {
        "po_number": "PO-TEST-001"
      }
    }
  ]
}[0m

[94m======== Testing: Invalid Barcode Format ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "barcode"
      ],
      "msg": "Value error, Barcode must be between 8 and 14 digits",
      "input": "123",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 6/6
[92mâœ“ All tests passed! Check SKU Against PO API is working.[0m
======== Testing: test_get_purchase_order.py ========
[94m================= TESTING GET PURCHASE ORDER API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:54.397354"
}[0m

[94m======== Testing: Purchase Orders API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Purchase Order API endpoints are available",
  "timestamp": "2025-05-07T11:52:54.401535"
}[0m

[94m======== Testing: Get Existing Purchase Order ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 8 items in purchase order SVPO2000300015",
  "purchase_order": {
    "po_number": "SVPO2000300015",
    "status": "In Progress",
    "supplier_name": "Al Hussein",
    "created_date": "2025-01-28T17:12:07.5146577Z",
    "order_date": "2025-01-28T05:00:00.0000000Z",
    "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
    "ship_to_warehouse": "AGP23"
  },
  "items": [
    {
      "sku": "FWAETHEREXM-100B",
      "quantity": 96,
      "description": "Fragrance World Aether Extrait de Parfum M 100ml Boxed"
    },
    {
      "sku": "LATAFAM-100B",
      "quantity": 96,
      "description": "Lattafa Fakhar M Edp 100ml Boxed"
    },
    {
      "sku": "FWAFTEFFEXTM-100B",
      "quantity": 48,
      "description": "Fragrance World After Effect Extrait De Parfum M 80ml Boxed"
    },
    {
      "sku": "LATSOEDPW-100B",
      "quantity": 48,
      "description": "Lattafa Sondos EDP W 100ml Boxed"
    },
    {
      "sku": "FWWINTM-100B",
      "quantity": 96,
      "description": "Fragrance World  Whiskey Intense M 100ml Boxed"
    },
    {
      "sku": "RASITSESM-100B",
      "quantity": 120,
      "description": "Rasasi It's Essential M 100ml Boxed"
    },
    {
      "sku": "LATAFAW-100B",
      "quantity": 96,
      "description": "Lattafa Fakhar EDP W 100ml Boxed"
    },
    {
      "sku": "FRGWAPBSM-80B",
      "quantity": 48,
      "description": "Fragrance World Artisan Perfume Brown Sugar EDP M 100ml Boxed"
    }
  ],
  "total_quantity": 648,
  "timestamp": "2025-05-07T11:52:54.409946"
}[0m
[92mâœ“ PASS: Response contains items array[0m
[92mâœ“ PASS: Response contains total_quantity[0m
[92mâœ“ PASS: Contains expected number of items (found: 8, expected: 8)[0m

[94m======== Testing: Get Non-existent Purchase Order ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Purchase order NONEXISTENT-PO-123456789 not found in the system",
    "error_code": "PO_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:54.416012"
  }
}[0m

[94m======== Testing: Missing PO Number ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "po_number"
      ],
      "msg": "Field required",
      "input": {}
    }
  ]
}[0m

[94m======== Testing: Empty PO Number ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "po_number"
      ],
      "msg": "Value error, PO number cannot be empty",
      "input": "",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 4/4
[92mâœ“ All tests passed! Get Purchase Order API is working.[0m
======== Testing: test_unified_search.py ========
[94m================= TESTING UNIFIED PRODUCT SEARCH API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:54.644406"
}[0m

[94m======== Testing: Search by SKU Pattern ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 5 products matching the search criteria",
  "search_criteria": {
    "query": "4711M",
    "limit": 5
  },
  "count": 5,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:54.655961"
}[0m

[94m======== Testing: Search by Description ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 5 products matching the search criteria",
  "search_criteria": {
    "query": "Kolnisch",
    "limit": 5
  },
  "count": 5,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:54.666078"
}[0m

[94m======== Testing: Search by Size (50ml) ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 5 products matching the search criteria",
  "search_criteria": {
    "query": "50ml",
    "limit": 5
  },
  "count": 5,
  "products": [
    {
      "sku": "212M-50B",
      "name": "Carolina Herrera '212' M 50ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:51.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/carolinaherrara212-man.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/carolinaherrara212-man.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/carolinaherrara212-man.jpg",
      "barcode": null
    },
    {
      "sku": "212SM-50B",
      "name": "Carolina Herrera 212 Sexy M 50ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:51.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "barcode": null
    },
    {
      "sku": "212SM-50T",
      "name": "Tester Carolina Herrera 212 Sexy M 50ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2019-01-26T21:32:20.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "barcode": null
    },
    {
      "sku": "212SM2M-50S",
      "name": "Set - Carolina Herrera 212 Sexy M 50ml 2Pc Set",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:51.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/212sexy-man.jpg",
      "barcode": null
    },
    {
      "sku": "212VM-50B",
      "name": "Carolina Herrera ''212 Vip'' M 50ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:51.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd2/212vipnewpack2-man.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd2/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd2/212vipnewpack2-man.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd2/212vipnewpack2-man.jpg",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:54.675501"
}[0m

[94m======== Testing: Search for Non-Existent Product ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "No products found matching the search criteria",
  "search_criteria": {
    "query": "NonExistentProduct12345",
    "limit": 5
  },
  "count": 0,
  "products": [],
  "timestamp": "2025-05-07T11:52:54.751954"
}[0m

[94m======== Testing: Search with Empty Query ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "string_too_short",
      "loc": [
        "body",
        "query"
      ],
      "msg": "String should have at least 1 character",
      "input": "",
      "ctx": {
        "min_length": 1
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 5/5
[92mâœ“ All tests passed! Unified product search API is working.[0m
======== Testing: test_product_search.py ========
[94m================= TESTING PRODUCT SEARCH API WITH IMAGES =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:54.971051"
}[0m

[94m======== Testing: Product API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Product search API endpoint is available",
  "timestamp": "2025-05-07T11:52:54.974519"
}[0m

[94m======== Testing: Basic Product Search ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 5 products matching the search criteria",
  "search_criteria": {
    "query": "Kolnisch",
    "limit": 5
  },
  "count": 5,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:54.983752"
}[0m
[92mâœ“ PASS: Found 5 products[0m
[92mâœ“ PASS: All required response fields are present[0m
[92mâœ“ PASS: Products have required fields (sku, name)[0m

[94m======== Testing: Image URL Presence ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 10 products matching the search criteria",
  "search_criteria": {
    "query": "4711M",
    "limit": 10
  },
  "count": 10,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-50B",
      "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2017-02-21T16:52:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60B",
      "name": "4711 By Echt Kolnisch Wasser 60ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60T",
      "name": "Tester - 4711 By Echt Kolnisch Wasser 60ml Spray Tester",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-800B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 800ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-90B",
      "name": "4711 By Echt Kolnisch Wasser M 90ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "NA",
      "finalurl": "NA",
      "image_url": "NA",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:54.994088"
}[0m
[92mâœ“ PASS: 10 out of 10 products have image_url[0m
[92mâœ“ PASS: All image URLs are valid formats or 'NA'[0m

[94m======== Testing: finalurl Priority for image_url ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 10 products matching the search criteria",
  "search_criteria": {
    "query": "4711M",
    "limit": 10
  },
  "count": 10,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-50B",
      "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2017-02-21T16:52:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60B",
      "name": "4711 By Echt Kolnisch Wasser 60ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60T",
      "name": "Tester - 4711 By Echt Kolnisch Wasser 60ml Spray Tester",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-800B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 800ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-90B",
      "name": "4711 By Echt Kolnisch Wasser M 90ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "NA",
      "finalurl": "NA",
      "image_url": "NA",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:55.007090"
}[0m
[92mâœ“ PASS: finalurl is correctly used as image_url[0m

[94m======== Testing: Image URL Fallback Logic ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 10 products matching the search criteria",
  "search_criteria": {
    "query": "4711M",
    "limit": 10
  },
  "count": 10,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-200B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser 200ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-300B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 300ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-400B",
      "name": "4711 By Echt Kolnisch Wasser 400ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-50B",
      "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2017-02-21T16:52:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60B",
      "name": "4711 By Echt Kolnisch Wasser 60ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-60T",
      "name": "Tester - 4711 By Echt Kolnisch Wasser 60ml Spray Tester",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-800B",
      "name": "Jumbo - 4711 By Echt Kolnisch Wasser M 800ml Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-90B",
      "name": "4711 By Echt Kolnisch Wasser M 90ml Spray Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:55.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "NA",
      "finalurl": "NA",
      "image_url": "NA",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:55.019480"
}[0m
[92mâœ“ PASS: All products use finalurl for image_url[0m

[94m======== Testing: Limit Parameter ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 2 products matching the search criteria",
  "search_criteria": {
    "query": "Kolnisch",
    "limit": 2
  },
  "count": 2,
  "products": [
    {
      "sku": "4711M-100B",
      "name": "4711 By Echt Kolnisch Wasser 100ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:50:34.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    },
    {
      "sku": "4711M-150B",
      "name": "4711 By Echt Kolnisch Wasser 150ml Splash Boxed",
      "weight_value": "0.453",
      "length": "0.00",
      "width": "0.00",
      "height": "0.00",
      "dimension_unit": "cm",
      "weight_unit": "g",
      "created_date_utc": "2016-11-08T03:49:54.0000000Z",
      "pictures": "",
      "photo_url_live": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "photo_url_raw": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/",
      "finalurl": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "image_url": "https://storage.googleapis.com/fragbuyhd/fragbuyphotos/4711.jpg",
      "barcode": null
    }
  ],
  "timestamp": "2025-05-07T11:52:55.029740"
}[0m
[92mâœ“ PASS: Response respects limit parameter (2 â‰¤ 2)[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 5/5
[92mâœ“ All tests passed! Product Search API with images is working.[0m
======== Testing: test_purchase_orders.py ========
[94m================= TESTING ENHANCED PURCHASE ORDER SEARCH API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:55.246049"
}[0m

[94m======== Testing: Purchase Orders API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Purchase Order API endpoints are available",
  "timestamp": "2025-05-07T11:52:55.249965"
}[0m

[94m======== Testing: Find Purchase Order by PO Number ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 26 matching purchase orders",
  "results": [
    {
      "po_number": "SVPO2000300004",
      "status": "PartiallyReceived",
      "supplier_name": "PutawayTest",
      "created_date": "2024-07-13T02:30:02.5006437Z",
      "order_date": "2024-07-12T04:00:00.0000000Z",
      "arrival_due_date": "2024-07-12T04:00:00.0000000Z",
      "ship_to_warehouse": "N/A"
    },
    {
      "po_number": "SVPO2000300011",
      "status": "NoneReceived",
      "supplier_name": "Perfume Network",
      "created_date": "2025-01-28T16:03:37.4157150Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300012",
      "status": "In Progress",
      "supplier_name": "A.A. Irie Perfume",
      "created_date": "2025-01-28T16:20:26.5322339Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300013",
      "status": "NoneReceived",
      "supplier_name": "House Of Brands",
      "created_date": "2025-01-28T16:48:07.8365823Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300014",
      "status": "NoneReceived",
      "supplier_name": "Al Alba",
      "created_date": "2025-01-28T17:01:55.4645072Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-11T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300015",
      "status": "In Progress",
      "supplier_name": "Al Hussein",
      "created_date": "2025-01-28T17:12:07.5146577Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300016",
      "status": "NoneReceived",
      "supplier_name": "Avyos Cosmotrade LLC",
      "created_date": "2025-01-28T17:39:48.8522586Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-31T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300017",
      "status": "NoneReceived",
      "supplier_name": "HAZ International Inc",
      "created_date": "2025-01-28T18:18:47.7495339Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-31T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300018",
      "status": "NoneReceived",
      "supplier_name": "Sanya International",
      "created_date": "2025-01-28T18:51:36.8470771Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300019",
      "status": "NoneReceived",
      "supplier_name": "Scents Forever",
      "created_date": "2025-01-28T20:23:06.5748100Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300020",
      "status": "NoneReceived",
      "supplier_name": "Perfume Center of America",
      "created_date": "2025-01-28T21:24:57.1092753Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-28T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300021",
      "status": "NoneReceived",
      "supplier_name": "Perfumeria Internacional",
      "created_date": "2025-01-29T18:37:40.8901378Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-29T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300022",
      "status": "NoneReceived",
      "supplier_name": "B&S Fragrances",
      "created_date": "2025-01-29T20:52:34.0325166Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-29T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300023",
      "status": "NoneReceived",
      "supplier_name": "Affinity Fragrances",
      "created_date": "2025-01-29T21:35:32.9792264Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-29T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300024",
      "status": "NoneReceived",
      "supplier_name": "Perfume International",
      "created_date": "2025-01-29T21:55:11.0122121Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-29T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300025",
      "status": "NoneReceived",
      "supplier_name": "TJS",
      "created_date": "2025-01-30T01:18:08.5478130Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-04T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300026",
      "status": "NoneReceived",
      "supplier_name": "3B International",
      "created_date": "2025-01-30T01:30:00.0991984Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-04T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300027",
      "status": "NoneReceived",
      "supplier_name": "Grand Empire",
      "created_date": "2025-01-30T01:50:07.9847505Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-07T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300028",
      "status": "NoneReceived",
      "supplier_name": "P&C",
      "created_date": "2025-01-30T06:13:47.1969233Z",
      "order_date": "2025-01-29T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-29T05:00:00.0000000Z",
      "ship_to_warehouse": "N/A"
    },
    {
      "po_number": "SVPO2000300029",
      "status": "NoneReceived",
      "supplier_name": "Perfumeria Miralls",
      "created_date": "2025-01-30T06:55:02.4214225Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-30T05:00:00.0000000Z",
      "ship_to_warehouse": "N/A"
    },
    {
      "po_number": "SVPO2000300030",
      "status": "NoneReceived",
      "supplier_name": "Fragrance Unlimited II",
      "created_date": "2025-01-30T18:42:12.5640195Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-01-30T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300031",
      "status": "NoneReceived",
      "supplier_name": "Khanji UAE",
      "created_date": "2025-01-30T19:01:41.9489907Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-06T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300032",
      "status": "NoneReceived",
      "supplier_name": "Perfume Price",
      "created_date": "2025-01-30T19:51:28.8324659Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-04T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300033",
      "status": "NoneReceived",
      "supplier_name": "MB Fragrances",
      "created_date": "2025-01-30T21:51:11.9578449Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-05T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300034",
      "status": "NoneReceived",
      "supplier_name": "Lux Memories",
      "created_date": "2025-01-31T02:44:31.3226066Z",
      "order_date": "2025-01-30T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-13T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    },
    {
      "po_number": "SVPO2000300035",
      "status": "NoneReceived",
      "supplier_name": "A.A. Irie Perfume",
      "created_date": "2025-01-31T15:59:21.3700841Z",
      "order_date": "2025-01-31T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-06T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    }
  ],
  "count": 26,
  "timestamp": "2025-05-07T11:52:55.256643"
}[0m
[92mâœ“ PASS: Found 26 purchase orders matching the PO number pattern[0m

[94m======== Testing: Find Purchase Order by Specific PO Number ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 1 matching purchase orders",
  "results": [
    {
      "po_number": "SVPO2000300015",
      "status": "In Progress",
      "supplier_name": "Al Hussein",
      "created_date": "2025-01-28T17:12:07.5146577Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    }
  ],
  "count": 1,
  "timestamp": "2025-05-07T11:52:55.264881"
}[0m
[92mâœ“ PASS: Found 1 purchase orders with the exact PO number[0m

[94m======== Testing: Find Purchase Order by Supplier Name ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 1 matching purchase orders",
  "results": [
    {
      "po_number": "SVPO2000300015",
      "status": "In Progress",
      "supplier_name": "Al Hussein",
      "created_date": "2025-01-28T17:12:07.5146577Z",
      "order_date": "2025-01-28T05:00:00.0000000Z",
      "arrival_due_date": "2025-02-03T05:00:00.0000000Z",
      "ship_to_warehouse": "AGP23"
    }
  ],
  "count": 1,
  "timestamp": "2025-05-07T11:52:55.270285"
}[0m
[92mâœ“ PASS: Found purchase orders from the specified supplier[0m

[94m======== Testing: Find Purchase Order by Non-existent Text ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "No matching purchase orders found",
  "results": [],
  "count": 0,
  "timestamp": "2025-05-07T11:52:55.275252"
}[0m
[92mâœ“ PASS: Returned empty results for non-existent text as expected[0m

[94m======== Testing: Invalid Request - Missing Fields ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body"
      ],
      "msg": "Value error, Either po_number or barcode must be provided",
      "input": {},
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Find Purchase Order by Barcode ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 1 matching purchase orders",
  "results": [
    {
      "po_number": "PO-TEST-002",
      "status": "In Progress",
      "supplier_name": "Test Supplier B",
      "created_date": "2025-03-05",
      "order_date": "2025-03-06",
      "arrival_due_date": "2025-03-30",
      "ship_to_warehouse": "Warehouse B"
    }
  ],
  "count": 1,
  "timestamp": "2025-05-07T11:52:55.295757"
}[0m

[94m======== Testing: Find Purchase Order by Multiple Barcodes ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "No matching purchase orders found",
  "results": [],
  "count": 0,
  "timestamp": "2025-05-07T11:52:55.326250"
}[0m

[94m======== Testing: Find Purchase Order by Invalid Barcode List ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "barcode"
      ],
      "msg": "Value error, Barcode 123 must be between 8 and 14 digits",
      "input": [
        "1234567890123",
        "123"
      ],
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 8/8
[92mâœ“ All tests passed! Enhanced Purchase Order Search API is working.[0m
======== Testing: test_ro_complete.py ========
[94m================= TESTING REPLENISHMENT COMPLETE API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:55.541369"
}[0m

[94m======== Testing: Replenishment API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Replenishment API endpoints are available",
  "timestamp": "2025-05-07T11:52:55.544982"
}[0m

[94m======== Testing: Complete Invalid Order ID ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Replenishment order NONEXISTENT-RO not found",
    "error_code": "RO_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:55.549625"
  }
}[0m

[94m======== Testing: Complete with Empty Order ID ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "ro_id"
      ],
      "msg": "Value error, Replenishment Order ID cannot be empty",
      "input": "",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Complete Valid Order (all items picked) ========[0m

[94m======== Testing: Preparing an order for completion ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:55.557076"
}[0m
Using In Process order: RO-2025041104
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully retrieved replenishment order RO-2025041104",
  "order": {
    "ro_id": "RO-2025041104",
    "ro_date_created": "2025-04-11T23:07:44",
    "ro_status": "In Process",
    "destination": "Bulk Order Workstation",
    "items": [
      {
        "id": 4,
        "sku": "022548407455",
        "description": "Decant - Tory Burch W 7.5ml Unboxed Spray",
        "qty": 65,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789",
        "note": "Test picking with note"
      },
      {
        "id": 5,
        "sku": "085715564009",
        "description": "Oscar De La Renta Bella Blanca edp W 100ml Spray Boxed",
        "qty": 28,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 6,
        "sku": "085715564207",
        "description": "Oscar De La Renta Bella Rosa edp W 100ml Spray Boxed",
        "qty": 32,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 1,
        "sku": "212SM-50B",
        "description": "Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 50,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 2,
        "sku": "212SM-50T",
        "description": "Tester Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 35,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 3,
        "sku": "212SM2M-50S",
        "description": "Set - Carolina Herrera 212 Sexy M 50ml 2Pc Set",
        "qty": 20,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      }
    ],
    "item_count": 6
  },
  "status_changed": false,
  "timestamp": "2025-05-07T11:52:55.562669"
}[0m
Picking 6 items for order RO-2025041104
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "022548407455",
        "qty_picked": 65
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "085715564009",
        "qty_picked": 28
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "085715564207",
        "qty_picked": 32
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM-50B",
        "qty_picked": 50
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM-50T",
        "qty_picked": 35
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM2M-50S",
        "qty_picked": 20
      }
    }
  ]
}[0m
[92mâœ“ PASS: Order RO-2025041104 prepared for completion testing[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "warning",
  "message": "Not all items have been picked for order RO-2025041104. 0 of 6 items have been picked.",
  "ro_id": "RO-2025041104",
  "timestamp": "2025-05-07T11:52:55.584874"
}[0m

[94m======== Testing: Complete Already Completed Order ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:55.588833"
}[0m

[94m======== Testing: Preparing an order for completion ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:55.593084"
}[0m
Using In Process order: RO-2025041104
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully retrieved replenishment order RO-2025041104",
  "order": {
    "ro_id": "RO-2025041104",
    "ro_date_created": "2025-04-11T23:07:44",
    "ro_status": "In Process",
    "destination": "Bulk Order Workstation",
    "items": [
      {
        "id": 4,
        "sku": "022548407455",
        "description": "Decant - Tory Burch W 7.5ml Unboxed Spray",
        "qty": 65,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789",
        "note": "Test picking with note"
      },
      {
        "id": 5,
        "sku": "085715564009",
        "description": "Oscar De La Renta Bella Blanca edp W 100ml Spray Boxed",
        "qty": 28,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 6,
        "sku": "085715564207",
        "description": "Oscar De La Renta Bella Rosa edp W 100ml Spray Boxed",
        "qty": 32,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 1,
        "sku": "212SM-50B",
        "description": "Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 50,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 2,
        "sku": "212SM-50T",
        "description": "Tester Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 35,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 3,
        "sku": "212SM2M-50S",
        "description": "Set - Carolina Herrera 212 Sexy M 50ml 2Pc Set",
        "qty": 20,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      }
    ],
    "item_count": 6
  },
  "status_changed": false,
  "timestamp": "2025-05-07T11:52:55.599097"
}[0m
Picking 6 items for order RO-2025041104
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "022548407455",
        "qty_picked": 65
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "085715564009",
        "qty_picked": 28
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "085715564207",
        "qty_picked": 32
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM-50B",
        "qty_picked": 50
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM-50T",
        "qty_picked": 35
      }
    }
  ]
}[0m
[91mâœ— FAIL: Expected success but got status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "rack_location"
      ],
      "msg": "Field required",
      "input": {
        "ro_id": "RO-2025041104",
        "sku": "212SM2M-50S",
        "qty_picked": 20
      }
    }
  ]
}[0m
[92mâœ“ PASS: Order RO-2025041104 prepared for completion testing[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "warning",
  "message": "Not all items have been picked for order RO-2025041104. 0 of 6 items have been picked.",
  "ro_id": "RO-2025041104",
  "timestamp": "2025-05-07T11:52:55.622790"
}[0m
Testing with already completed order: RO-2025041104
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "warning",
  "message": "Not all items have been picked for order RO-2025041104. 0 of 6 items have been picked.",
  "ro_id": "RO-2025041104",
  "timestamp": "2025-05-07T11:52:55.627980"
}[0m

[94m================= TEST SUMMARY =================[0m
API health check: âœ“
Complete with invalid order ID: âœ“
Complete with empty order ID: âœ“
Complete valid order: âœ“
Complete already completed order: âœ“
[92mâœ“ All tests passed! ro_complete API is working correctly.[0m
======== Testing: test_ro_get_orders.py ========
[94m================= TESTING REPLENISHMENT ORDER GET API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:55.836337"
}[0m

[94m======== Testing: Replenishment API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Replenishment API endpoints are available",
  "timestamp": "2025-05-07T11:52:55.840004"
}[0m

[94m======== Testing: Get Active Replenishment Orders ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:55.845276"
}[0m

[94m======== Testing: Verifying Replenishment Orders Response ========[0m
[92mâœ“ PASS: Response contains all expected keys[0m
[92mâœ“ PASS: Response contains orders list[0m
[92mâœ“ PASS: Count (3) matches number of orders (3)[0m
[92mâœ“ PASS: All orders have the required fields[0m
[92mâœ“ PASS: No 'Completed' orders were returned as expected[0m

[94m================= TEST SUMMARY =================[0m
API call successful: âœ“
Response data valid: âœ“
[92mâœ“ All tests passed! ro_get_orders API is working correctly.[0m
======== Testing: test_ro_item_picked.py ========
[94m================= TESTING REPLENISHMENT ITEM PICKED API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:56.056495"
}[0m

[94m======== Testing: Replenishment API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Replenishment API endpoints are available",
  "timestamp": "2025-05-07T11:52:56.060548"
}[0m

[94m======== Testing: Update Item Picked - Valid Data ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:56.066189"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully retrieved replenishment order RO-2025041104",
  "order": {
    "ro_id": "RO-2025041104",
    "ro_date_created": "2025-04-11T23:07:44",
    "ro_status": "In Process",
    "destination": "Bulk Order Workstation",
    "items": [
      {
        "id": 4,
        "sku": "022548407455",
        "description": "Decant - Tory Burch W 7.5ml Unboxed Spray",
        "qty": 65,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789",
        "note": "Test picking with note"
      },
      {
        "id": 5,
        "sku": "085715564009",
        "description": "Oscar De La Renta Bella Blanca edp W 100ml Spray Boxed",
        "qty": 28,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 6,
        "sku": "085715564207",
        "description": "Oscar De La Renta Bella Rosa edp W 100ml Spray Boxed",
        "qty": 32,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 1,
        "sku": "212SM-50B",
        "description": "Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 50,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 2,
        "sku": "212SM-50T",
        "description": "Tester Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 35,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 3,
        "sku": "212SM2M-50S",
        "description": "Set - Carolina Herrera 212 Sexy M 50ml 2Pc Set",
        "qty": 20,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      }
    ],
    "item_count": 6
  },
  "status_changed": false,
  "timestamp": "2025-05-07T11:52:56.073238"
}[0m
Using RO=RO-2025041104, SKU=022548407455, Qty_Picked=32
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Data Added; RO In Process",
  "ro_id": "RO-2025041104",
  "sku": "022548407455",
  "rack_location": "123-456-789",
  "qty_picked": 32,
  "timestamp": "2025-05-07T11:52:56.082200"
}[0m

[94m======== Testing: Update Item Picked - Invalid RO ID ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Item with SKU 212SM-50B at location 123-456-789 not found in replenishment order NONEXISTENT-RO",
    "error_code": "ITEM_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:56.087448"
  }
}[0m

[94m======== Testing: Update Item Picked - Invalid SKU ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:56.092656"
}[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Item with SKU NONEXISTENT-SKU at location 123-456-789 not found in replenishment order RO-2025041104",
    "error_code": "ITEM_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:56.098375"
  }
}[0m

[94m======== Testing: Update Item Picked - Negative Quantity ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:56.103569"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully retrieved replenishment order RO-2025041104",
  "order": {
    "ro_id": "RO-2025041104",
    "ro_date_created": "2025-04-11T23:07:44",
    "ro_status": "In Process",
    "destination": "Bulk Order Workstation",
    "items": [
      {
        "id": 4,
        "sku": "022548407455",
        "description": "Decant - Tory Burch W 7.5ml Unboxed Spray",
        "qty": 65,
        "qty_picked": 32,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789",
        "note": "Test picking with note"
      },
      {
        "id": 5,
        "sku": "085715564009",
        "description": "Oscar De La Renta Bella Blanca edp W 100ml Spray Boxed",
        "qty": 28,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 6,
        "sku": "085715564207",
        "description": "Oscar De La Renta Bella Rosa edp W 100ml Spray Boxed",
        "qty": 32,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 1,
        "sku": "212SM-50B",
        "description": "Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 50,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 2,
        "sku": "212SM-50T",
        "description": "Tester Carolina Herrera 212 Sexy M 50ml Boxed",
        "qty": 35,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      },
      {
        "id": 3,
        "sku": "212SM2M-50S",
        "description": "Set - Carolina Herrera 212 Sexy M 50ml 2Pc Set",
        "qty": 20,
        "qty_picked": 0,
        "created_at": "2025-04-11T23:08:59",
        "rack_location": "123-456-789"
      }
    ],
    "item_count": 6
  },
  "status_changed": false,
  "timestamp": "2025-05-07T11:52:56.110414"
}[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "qty_picked"
      ],
      "msg": "Value error, Quantity picked cannot be negative",
      "input": -5,
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Complete Entire Order ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 3 active replenishment orders",
  "orders": [
    {
      "ro_id": "RO-2025041104",
      "ro_date_created": "2025-04-11T23:07:44",
      "ro_status": "In Process",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 6
    },
    {
      "ro_id": "RO-2025041102",
      "ro_date_created": "2025-04-09T23:07:44",
      "ro_status": "Unassigned",
      "destination": "Bulk Order Workstation",
      "skus_in_order": 5
    },
    {
      "ro_id": "RO-2025041101",
      "ro_date_created": "2025-04-08T23:07:44",
      "ro_status": "In Process",
      "destination": "Staging",
      "skus_in_order": 3
    }
  ],
  "count": 3,
  "timestamp": "2025-05-07T11:52:56.118970"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Successfully retrieved replenishment order RO-2025041101",
  "order": {
    "ro_id": "RO-2025041101",
    "ro_date_created": "2025-04-08T23:07:44",
    "ro_status": "In Process",
    "destination": "Staging",
    "items": [
      {
        "id": 7,
        "sku": "022548407455",
        "description": "Decant - Tory Burch W 7.5ml Unboxed Spray",
        "qty": 25,
        "qty_picked": 25,
        "created_at": "2025-04-08T23:11:46",
        "rack_location": "123-456-789"
      },
      {
        "id": 8,
        "sku": "085715564009",
        "description": "Oscar De La Renta Bella Blanca edp W 100ml Spray Boxed",
        "qty": 10,
        "qty_picked": 10,
        "created_at": "2025-04-08T23:11:46",
        "rack_location": "123-456-789"
      },
      {
        "id": 9,
        "sku": "085715564207",
        "description": "Oscar De La Renta Bella Rosa edp W 100ml Spray Boxed",
        "qty": 15,
        "qty_picked": 15,
        "created_at": "2025-04-08T23:11:46",
        "rack_location": "123-456-789"
      }
    ],
    "item_count": 3
  },
  "status_changed": false,
  "timestamp": "2025-05-07T11:52:56.124742"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Data Added; RO In Process",
  "ro_id": "RO-2025041101",
  "sku": "022548407455",
  "rack_location": "123-456-789",
  "qty_picked": 25,
  "timestamp": "2025-05-07T11:52:56.131313"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Data Added; RO In Process",
  "ro_id": "RO-2025041101",
  "sku": "085715564009",
  "rack_location": "123-456-789",
  "qty_picked": 10,
  "timestamp": "2025-05-07T11:52:56.137452"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Data Added; RO In Process",
  "ro_id": "RO-2025041101",
  "sku": "085715564207",
  "rack_location": "123-456-789",
  "qty_picked": 15,
  "timestamp": "2025-05-07T11:52:56.143147"
}[0m
[91mâœ— FAIL: Expected 'Data Added; RO Complete' but got 'Data Added; RO In Process'[0m

[94m================= TEST SUMMARY =================[0m
API health check: âœ“
Update with valid data: âœ“
Update with invalid RO ID: âœ“
Update with invalid SKU: âœ“
Update with negative quantity: âœ“
Complete entire order: âœ“
[92mâœ“ All tests passed! ro_item_picked API is working correctly.[0m
======== Testing: test_update_po_status.py ========
[94m================= TESTING UPDATE PO STATUS API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:56.352327"
}[0m

[94m======== Testing: Purchase Orders API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Purchase Order API endpoints are available",
  "timestamp": "2025-05-07T11:52:56.355983"
}[0m

[94m======== Testing: Update PO Status to Complete ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Purchase order PO-TEST-001 status updated to Completed",
  "po_number": "PO-TEST-001",
  "timestamp": "2025-05-07T11:52:56.362120",
  "partner_api_notification": {
    "success": true,
    "timestamp": "2025-05-07T11:52:56.362083"
  }
}[0m

[94m======== Testing: Update PO Status to Incomplete ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Purchase order PO-TEST-002 status updated to In Progress",
  "po_number": "PO-TEST-002",
  "timestamp": "2025-05-07T11:52:56.367322"
}[0m

[94m======== Testing: Update Non-existent PO ========[0m
[92mâœ“ PASS: Request failed as expected with status 404[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Purchase order NONEXISTENT-PO not found in the system",
    "error_code": "PO_NOT_FOUND",
    "timestamp": "2025-05-07T11:52:56.371619"
  }
}[0m

[94m======== Testing: Missing Status ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "status"
      ],
      "msg": "Field required",
      "input": {
        "po_number": "PO-TEST-001"
      }
    }
  ]
}[0m

[94m======== Testing: Missing PO Number ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "missing",
      "loc": [
        "body",
        "po_number"
      ],
      "msg": "Field required",
      "input": {
        "status": "Complete"
      }
    }
  ]
}[0m

[94m======== Testing: Invalid Status ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "literal_error",
      "loc": [
        "body",
        "status"
      ],
      "msg": "Input should be 'Complete' or 'Incomplete'",
      "input": "Invalid",
      "ctx": {
        "expected": "'Complete' or 'Incomplete'"
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 6/6
[92mâœ“ All tests passed! Update PO Status API is working.[0m
======== Testing: test_warehouse_locations.py ========
[94m================= TESTING WAREHOUSE LOCATIONS API =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:56.605005"
}[0m

[94m======== Testing: Warehouse Locations API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Warehouse locations API endpoint is available",
  "timestamp": "2025-05-07T11:52:56.609522"
}[0m

[94m======== Testing: Get All Warehouse Locations ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 8 warehouse locations",
  "count": 8,
  "locations": [
    {
      "warehouse": "AGP23",
      "location_code": "GENERAL",
      "location_name": "General"
    },
    {
      "warehouse": "AGP23",
      "location_code": "PRESOLDRESERVE",
      "location_name": "Presold Reserve"
    },
    {
      "warehouse": "DON",
      "location_code": "1HAI",
      "location_name": "HAI"
    },
    {
      "warehouse": "DON",
      "location_code": "2STORAGE",
      "location_name": "Storage"
    },
    {
      "warehouse": "DON",
      "location_code": "3SHOWROOM",
      "location_name": "Showroom"
    },
    {
      "warehouse": "DON",
      "location_code": "4STAGING",
      "location_name": "Staging"
    },
    {
      "warehouse": "DON",
      "location_code": "5RESERVE",
      "location_name": "Reserve"
    },
    {
      "warehouse": "DUBAI",
      "location_code": "TEMP",
      "location_name": "Temporary"
    }
  ],
  "timestamp": "2025-05-07T11:52:56.616014"
}[0m

[94m======== Testing: Filter Locations by Warehouse ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Found 5 warehouse locations",
  "count": 5,
  "locations": [
    {
      "warehouse": "DON",
      "location_code": "1HAI",
      "location_name": "HAI"
    },
    {
      "warehouse": "DON",
      "location_code": "2STORAGE",
      "location_name": "Storage"
    },
    {
      "warehouse": "DON",
      "location_code": "3SHOWROOM",
      "location_name": "Showroom"
    },
    {
      "warehouse": "DON",
      "location_code": "4STAGING",
      "location_name": "Staging"
    },
    {
      "warehouse": "DON",
      "location_code": "5RESERVE",
      "location_name": "Reserve"
    }
  ],
  "timestamp": "2025-05-07T11:52:56.622448"
}[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 2/2
[92mâœ“ All tests passed! Warehouse Locations API is working.[0m
======== Testing: putaway_test.py ========
[94m================= TESTING PUTAWAY WORKFLOW =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:56.838958"
}[0m

[94m======== Testing: Normal Putaway Order Creation ========[0m
Using tote ID: TOTEV0PMQ
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Putaway order created successfully for tote TOTEV0PMQ",
  "order_id": 17,
  "timestamp": "2025-05-07T11:52:56.847603",
  "items_processed": 2,
  "total_quantity": 8
}[0m

[94m======== Testing: Putaway Order with Insufficient Stock ========[0m
Using tote ID: TOTENVMTR with insufficient stock flag
[92mâœ“ PASS: Request failed as expected with status 400[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Insufficient stock to fulfill this putaway order",
    "error_code": "INSUFFICIENT_STOCK",
    "timestamp": "2025-05-07T11:52:56.852604"
  }
}[0m

[94m======== Testing: Duplicate Tote ID ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Putaway order created successfully for tote TOTEIX01X",
  "order_id": 18,
  "timestamp": "2025-05-07T11:52:56.860768",
  "items_processed": 2,
  "total_quantity": 8
}[0m
Using duplicate tote ID: TOTEIX01X
[92mâœ“ PASS: Request failed as expected with status 400[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Tote TOTEIX01X already exists in the system",
    "error_code": "DUPLICATE_TOTE",
    "timestamp": "2025-05-07T11:52:56.866110"
  }
}[0m

[94m======== Testing: Invalid Tote Format ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "tote"
      ],
      "msg": "Value error, Tote must start with TOTE followed by up to 15 alphanumeric characters or hyphens",
      "input": "INVALID-TOTE",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Invalid Barcode ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "items",
        0,
        "barcode"
      ],
      "msg": "Value error, Barcode must be between 8 and 14 digits",
      "input": "123",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
API health check: âœ“
Normal putaway order: âœ“
Insufficient stock test: âœ“
Duplicate tote rejection: âœ“
Invalid tote format rejection: âœ“
Invalid barcode rejection: âœ“
[92mâœ“ All tests passed! Putaway workflow is working correctly.[0m
======== Testing: bulk_storage_test.py ========
[94m================= TESTING BULK STORAGE WORKFLOW =================[0m

[94m======== Testing: API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "API is running and database is connected",
  "timestamp": "2025-05-07T11:52:57.090095"
}[0m

[94m======== Testing: Normal Bulk Storage Order Creation ========[0m
Using location: RACK-C3-74
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Bulk storage order created successfully for location RACK-C3-74",
  "order_id": 20,
  "timestamp": "2025-05-07T11:52:57.100336",
  "items_processed": 2,
  "total_quantity": 75
}[0m

[94m======== Testing: Bulk Storage Order with Insufficient Stock ========[0m
Using location: RACK-P6-95 with insufficient stock flag
[92mâœ“ PASS: Request failed as expected with status 400[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Insufficient stock to fulfill this bulk storage order",
    "error_code": "INSUFFICIENT_STOCK",
    "timestamp": "2025-05-07T11:52:57.106459"
  }
}[0m

[94m======== Testing: Duplicate Location ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Bulk storage order created successfully for location RACK-T6-65",
  "order_id": 21,
  "timestamp": "2025-05-07T11:52:57.116475",
  "items_processed": 2,
  "total_quantity": 75
}[0m
Using duplicate location: RACK-T6-65
[92mâœ“ PASS: Request failed as expected with status 400[0m
[93m{
  "detail": {
    "status": "error",
    "message": "Location RACK-T6-65 already has a pending order",
    "error_code": "DUPLICATE_LOCATION",
    "timestamp": "2025-05-07T11:52:57.122414"
  }
}[0m

[94m======== Testing: Invalid Location Format ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "location"
      ],
      "msg": "Value error, Location must follow format RACK-A1-01 (RACK-<section><aisle>-<position>)",
      "input": "INVALID-LOCATION",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m======== Testing: Invalid Barcode ========[0m
[92mâœ“ PASS: Request failed as expected with status 422[0m
[93m{
  "detail": [
    {
      "type": "value_error",
      "loc": [
        "body",
        "items",
        0,
        "barcode"
      ],
      "msg": "Value error, Barcode must be between 8 and 14 digits",
      "input": "123",
      "ctx": {
        "error": {}
      }
    }
  ]
}[0m

[94m================= TEST SUMMARY =================[0m
API health check: âœ“
Normal bulk storage order: âœ“
Insufficient stock test: âœ“
Duplicate location rejection: âœ“
Invalid location format rejection: âœ“
Invalid barcode rejection: âœ“
[92mâœ“ All tests passed! Bulk storage workflow is working correctly.[0m
======== Testing: barcode_lookup_test.py ========
Python path: /usr/bin/python3
Python version: 3.11.2 (main, Nov 30 2024, 21:22:50) [GCC 12.2.0]
[94m================= TESTING BARCODE API WITH SPECIFIC PRODUCT =================[0m
[94mSKU: 4711M-50B[0m
[94mExpected Product Name: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed[0m

[94m======== Testing: Barcode API Health Check ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "healthy",
  "message": "Barcode API endpoints are available",
  "timestamp": "2025-05-07T11:52:57.349894"
}[0m

[94m======== Testing: Barcode Lookup with Product Name: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed ========[0m
Setting up test: Adding barcode 9747917249 for SKU 4711M-50B
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Barcode 9747917249 added successfully for SKU 4711M-50B",
  "sku": "4711M-50B",
  "barcode": "9747917249",
  "alternate": 10,
  "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
  "timestamp": "2025-05-07T11:52:57.369388"
}[0m
[92mâœ“ PASS: Add response has correct product name: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "barcode": "9747917249",
  "sku": "4711M-50B",
  "alternate": 10,
  "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
  "timestamp": "2025-05-07T11:52:57.387359"
}[0m
[92mâœ“ PASS: Response includes 'name' field with value: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed[0m
[92mâœ“ PASS: Product name matches expected value: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed[0m
[92mâœ“ PASS: SKU is correct: 4711M-50B[0m
[92mâœ“ PASS: Barcode is correct: 9747917249[0m

[94m======== Testing: Looking up any existing barcodes for this SKU ========[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "message": "Barcode 3530198880670 added successfully for SKU 4711M-50B",
  "sku": "4711M-50B",
  "barcode": "3530198880670",
  "alternate": 10,
  "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
  "timestamp": "2025-05-07T11:52:57.409191"
}[0m
[92mâœ“ PASS: Request succeeded as expected[0m
[93m{
  "status": "success",
  "barcode": "3530198880670",
  "sku": "4711M-50B",
  "alternate": 10,
  "name": "4711 By Echt Kolnisch Wasser 50ml Splash Boxed",
  "timestamp": "2025-05-07T11:52:57.427733"
}[0m
[92mâœ“ PASS: Found existing barcode with correct product name[0m

[94m================= TEST SUMMARY =================[0m
Tests passed: 2/2
[92mâœ“ All tests passed! Barcode API correctly handles the specific product.[0m

[94m================= IMPORTANT NOTES =================[0m
[93mIf any tests failed, check the following:[0m
1. Confirm that SKU 4711M-50B exists in the products table
2. Confirm that the name in the database exactly matches: 4711 By Echt Kolnisch Wasser 50ml Splash Boxed
3. Verify the Barcode API has been updated to include product names
4. Check that the database connection is working correctly
